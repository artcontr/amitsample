<html>
 <body>
  <video id="laVideo" src="testimages/sample-ogv-file.ogv" controls autoplay>Video non supportee</video>
  <canvas id="leCanvas" width="427" height="240" style="border-style:solid;">Canvas non supportee</canvas>
 </body>
 <script>
 var video = document.getElementById("laVideo");
 var canvas = document.getElementById("leCanvas");
 var canvasContext = canvas.getContext("2d");
 

function showincanvas () {
  canvasContext.drawImage(video, 100, 100, 100, 100);
	var monImageData = canvasContext.getImageData(100, 100, 100, 100);
	var data = monImageData.data;
	console.log(data);

} 

	 
	 
	 	function init() {
		let ws;
		if (ws) {
		  ws.onerror = ws.onopen = ws.onclose = null;
		  ws.close();
		}

    	ws = new WebSocket('ws://35.223.101.58:8080');
		
    	ws.onopen = () => 	{
     console.log('Connection opened!');
    						}
		console.log('test');
		
		ws.onmessage = ({ data }) => handleReq(data);
		ws.onclose = function () 	{
		ws = null;
    								}
  					}
	
	init();
	 setInterval(showincanvas, 1000);
 </script>
</html>