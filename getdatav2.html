<!DOCTYPE HTML>
<html>
  
	<head>
		<style>
			body {
				margin: 0px;
				padding: 0px;
				 }
		</style>
	</head>
  
	<body>
		
		<canvas id="myCanvas" width="10" height="144"></canvas>
		<img src="testimages/rainbowgif.gif" alt="This is an animated gif image"/>
		
<script>
			
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
var img = document.getElementById("scream");
ctx.drawImage(img, 0, 0);
var imgData = ctx.getImageData(0, 0, c.width, c.height);

// invert colors
var i;
for (i = 0; i < imgData.data.length; i += 4) {
  imgData.data[i] = 255-imgData.data[i];
  imgData.data[i + 1] = 255-imgData.data[i + 1];
  imgData.data[i + 2] = 255-imgData.data[i + 2];
  imgData.data[i + 3] = 255;
}

ctx.putImageData(imgData, 0, 0);
			
			
			//var imageObj = new Image();
			//imageObj.onload = function() {
			//	drawImage(this);
      								     };
			//imageObj.src = 'http://34.122.45.209/amitsample/testimages/rainbowgif.gif';
			
			
			
			
			
			function drawImage(imageObj) {
				var canvas = document.getElementById('myCanvas');
				var context = canvas.getContext('2d');
				var imageX = 0;
				var imageY = 0;
				var imageWidth = imageObj.width;
				var imageHeight = imageObj.height;
				

        		context.drawImage(imageObj, imageX, imageY);
				
				var monImageData = context.getImageData(imageX, imageY, imageWidth, imageHeight);
				var data = monImageData.data;
				
				console.log(data);
				
				//var imageData = context.getImageData(imageX, imageY, imageWidth, imageHeight);
        		//var data = imageData.data;
				
					
				
			
				
				
		  	}; //end of function drawImage
			

	function init() {
		let ws;
		if (ws) {
		  ws.onerror = ws.onopen = ws.onclose = null;
		  ws.close();
		}

    	ws = new WebSocket('ws://35.223.101.58:8080');
		
    	ws.onopen = () => 	{
     console.log('Connection opened!');
    						}
		console.log('test');
		
		ws.onmessage = ({ data }) => handleReq(data);
		ws.onclose = function () 	{
		ws = null;
    								}
  					}
	
	init();
		  

        
		


    </script>
		
	</body>
	
</html>